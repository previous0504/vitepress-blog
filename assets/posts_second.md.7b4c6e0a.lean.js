import{o as n,c as s,d as a,e as t}from"./app.4138e7bc.js";const o='{"title":"vue3学习笔记","description":"跟着b站小满zs学习vue3","frontmatter":{"date":"2023-02-15","title":"vue3学习笔记","tags":["vue3","typescript"],"description":"跟着b站小满zs学习vue3"},"headers":[{"level":2,"title":"介绍vue","slug":"介绍vue"},{"level":2,"title":"npm run dev详解","slug":"npm-run-dev详解"},{"level":2,"title":"虚拟dom、diff算法","slug":"虚拟dom、diff算法"},{"level":3,"title":"1.无key的时候","slug":"_1-无key的时候"},{"level":3,"title":"2.有key的时候","slug":"_2-有key的时候"},{"level":2,"title":"响应式原理","slug":"响应式原理"},{"level":3,"title":"Ref","slug":"ref"},{"level":3,"title":"Reactive","slug":"reactive"},{"level":3,"title":"Computed","slug":"computed"},{"level":3,"title":"Watch","slug":"watch"},{"level":2,"title":"生命周期","slug":"生命周期"},{"level":3,"title":"onBeforeMount()","slug":"onbeforemount"},{"level":3,"title":"onMounted()","slug":"onmounted"},{"level":3,"title":"onBeforeUpdate()","slug":"onbeforeupdate"},{"level":3,"title":"onUpdated()","slug":"onupdated"},{"level":3,"title":"onBeforeUnmount()","slug":"onbeforeunmount"},{"level":3,"title":"onUnmounted()","slug":"onunmounted"},{"level":2,"title":"父子组件传参","slug":"父子组件传参"},{"level":3,"title":"defineProps","slug":"defineprops"},{"level":3,"title":"defineEmits","slug":"defineemits"},{"level":3,"title":"ref (defineExpose)","slug":"ref-defineexpose"},{"level":3,"title":"案例(封装瀑布流事件)","slug":"案例-封装瀑布流事件"},{"level":2,"title":"全局组件，局部组件，递归组件","slug":"全局组件，局部组件，递归组件"},{"level":3,"title":"全局组件","slug":"全局组件"},{"level":3,"title":"递归组件","slug":"递归组件"},{"level":3,"title":"动态组件","slug":"动态组件"},{"level":2,"title":"插槽","slug":"插槽"},{"level":3,"title":"匿名插槽","slug":"匿名插槽"},{"level":3,"title":"具名插槽","slug":"具名插槽"},{"level":3,"title":"作用域插槽","slug":"作用域插槽"},{"level":3,"title":"动态插槽","slug":"动态插槽"},{"level":2,"title":"异步组件&Suspense","slug":"异步组件-suspense"},{"level":3,"title":"Ajax(异步的javascript和XML)","slug":"ajax-异步的javascript和xml"},{"level":3,"title":"封装axios","slug":"封装axios"},{"level":3,"title":"Suspense","slug":"suspense"},{"level":2,"title":"Teleport","slug":"teleport"}],"relativePath":"posts/second.md","lastUpdated":1676532495290}',e={},p=[a("h2",{id:"介绍vue",tabindex:"-1"},[t("介绍vue "),a("a",{class:"header-anchor",href:"#介绍vue","aria-hidden":"true"},"#")],-1),a("p",null,"vue使用了MVVM(Model-View-ViewModel) 架构",-1),a("p",null,"1.view:视图层(UI用户界面)",-1),a("p",null,"2.viewModel:业务逻辑层(一切js可视为业务逻辑)",-1),a("p",null,"3.model:数据层(存储数据及对数据的处理如增删改查)",-1),a("p",null,[a("img",{src:"/vitepress-blog/imgs/mvvm.png",alt:"image"})],-1),a("h2",{id:"npm-run-dev详解",tabindex:"-1"},[t("npm run dev详解 "),a("a",{class:"header-anchor",href:"#npm-run-dev详解","aria-hidden":"true"},"#")],-1),a("p",null,"先从本地的node_modules中查找.bin文件夹里找有没有vite可以执行，如果没有，会去全局找，全局没有的话会去找环境变量，环境变量没有的话会报错。",-1),a("h2",{id:"虚拟dom、diff算法",tabindex:"-1"},[t("虚拟dom、diff算法 "),a("a",{class:"header-anchor",href:"#虚拟dom、diff算法","aria-hidden":"true"},"#")],-1),a("ul",null,[a("li",null,"使用AST静态节点🌲来代替dom节点")],-1),a("h3",{id:"_1-无key的时候",tabindex:"-1"},[t("1.无key的时候 "),a("a",{class:"header-anchor",href:"#_1-无key的时候","aria-hidden":"true"},"#")],-1),a("p",null,[a("img",{src:"/vitepress-blog/imgs/nokey.png",alt:"image"})],-1),a("h3",{id:"_2-有key的时候",tabindex:"-1"},[t("2.有key的时候 "),a("a",{class:"header-anchor",href:"#_2-有key的时候","aria-hidden":"true"},"#")],-1),a("p",null,[a("img",{src:"/vitepress-blog/imgs/haskey.png",alt:"image"})],-1),a("p",null,"最长递增子序列 * leetcode-300",-1),a("p",null,[a("a",{href:"https://leetcode.cn/problems/longest-increasing-subsequence/",target:"_blank",rel:"noopener noreferrer"},"https://leetcode.cn/problems/longest-increasing-subsequence/")],-1),a("p",null,"1.动态规划(Dp)，时间复杂度O(n)²",-1),a("div",{class:"language-javascript"},[a("pre",null,[a("code",null,[t(),a("span",{class:"token operator"},"*"),a("span",{class:"token operator"},"/"),t("\n"),a("span",{class:"token keyword"},"var"),t(),a("span",{class:"token function-variable function"},"lengthOfLIS"),t(),a("span",{class:"token operator"},"="),t(),a("span",{class:"token keyword"},"function"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},"nums"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n     "),a("span",{class:"token keyword"},"let"),t(" dp "),a("span",{class:"token operator"},"="),t(" Array"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"from"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),t(" length"),a("span",{class:"token operator"},":"),t(" nums"),a("span",{class:"token punctuation"},"."),t("length "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"=>"),t(),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},")"),t("\n    "),a("span",{class:"token keyword"},"for"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"let"),t(" i "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token number"},"0"),a("span",{class:"token punctuation"},";"),t(" i "),a("span",{class:"token operator"},"<"),t(" nums"),a("span",{class:"token punctuation"},"."),t("length"),a("span",{class:"token punctuation"},";"),t(" i"),a("span",{class:"token operator"},"++"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n            "),a("span",{class:"token keyword"},"for"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"let"),t(" j "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token number"},"0"),a("span",{class:"token punctuation"},";"),t(" j "),a("span",{class:"token operator"},"<"),t(" i"),a("span",{class:"token punctuation"},";"),t("j"),a("span",{class:"token operator"},"++"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n                "),a("span",{class:"token keyword"},"if"),t(),a("span",{class:"token punctuation"},"("),t("nums"),a("span",{class:"token punctuation"},"["),t("i"),a("span",{class:"token punctuation"},"]"),t(),a("span",{class:"token operator"},">"),t(" nums"),a("span",{class:"token punctuation"},"["),t("j"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n                    dp"),a("span",{class:"token punctuation"},"["),t("i"),a("span",{class:"token punctuation"},"]"),t(),a("span",{class:"token operator"},"="),t(" Math"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"max"),a("span",{class:"token punctuation"},"("),t("dp"),a("span",{class:"token punctuation"},"["),t("i"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},","),t("dp"),a("span",{class:"token punctuation"},"["),t("j"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token operator"},"+"),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},")"),t("\n                \n                "),a("span",{class:"token punctuation"},"}"),t("\n            "),a("span",{class:"token punctuation"},"}"),t(" \n    "),a("span",{class:"token punctuation"},"}"),t("\n    "),a("span",{class:"token keyword"},"return"),t(" Math"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"max"),a("span",{class:"token punctuation"},"("),a("span",{class:"token operator"},"..."),t("dp"),a("span",{class:"token punctuation"},")"),t("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},";"),t("\n")])])],-1),a("p",null,"2.贪心算法+二分法查找",-1),a("div",{class:"language-javascript"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"var"),t(),a("span",{class:"token function-variable function"},"lengthOfLIS"),t(),a("span",{class:"token operator"},"="),t(),a("span",{class:"token keyword"},"function"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},"nums"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n    "),a("span",{class:"token keyword"},"if"),t(),a("span",{class:"token punctuation"},"("),t("nums"),a("span",{class:"token punctuation"},"."),t("length "),a("span",{class:"token operator"},"==="),t(),a("span",{class:"token number"},"0"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token keyword"},"return"),t(),a("span",{class:"token number"},"0"),a("span",{class:"token punctuation"},";"),t("\n    "),a("span",{class:"token keyword"},"let"),t(" result "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token punctuation"},"["),t("nums"),a("span",{class:"token punctuation"},"["),a("span",{class:"token number"},"0"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},";"),t("\n    "),a("span",{class:"token keyword"},"for"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"let"),t(" i "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},";"),t(" i "),a("span",{class:"token operator"},"<"),t(" nums"),a("span",{class:"token punctuation"},"."),t("length"),a("span",{class:"token punctuation"},";"),t(),a("span",{class:"token operator"},"++"),t("i"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n        "),a("span",{class:"token comment"},"// 如果当前数值大于已选结果的最后一位，则直接往后新增，若当前数值更小，则直接替换前面第一个大于它的数值"),t("\n        "),a("span",{class:"token keyword"},"if"),t(),a("span",{class:"token punctuation"},"("),t("nums"),a("span",{class:"token punctuation"},"["),t("i"),a("span",{class:"token punctuation"},"]"),t(),a("span",{class:"token operator"},">"),t(" result"),a("span",{class:"token punctuation"},"["),t("result"),a("span",{class:"token punctuation"},"."),t("length "),a("span",{class:"token operator"},"-"),t(),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n            result"),a("span",{class:"token punctuation"},"["),t("result"),a("span",{class:"token punctuation"},"."),t("length"),a("span",{class:"token punctuation"},"]"),t(),a("span",{class:"token operator"},"="),t(" nums"),a("span",{class:"token punctuation"},"["),t("i"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},";"),t("\n        "),a("span",{class:"token punctuation"},"}"),t(),a("span",{class:"token keyword"},"else"),t(),a("span",{class:"token punctuation"},"{"),t("\n            "),a("span",{class:"token comment"},"// 二分查找：找到第一个大于当前数值的结果进行替换"),t("\n            "),a("span",{class:"token keyword"},"let"),t(" left "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token number"},"0"),a("span",{class:"token punctuation"},","),t(" right "),a("span",{class:"token operator"},"="),t(" result"),a("span",{class:"token punctuation"},"."),t("length "),a("span",{class:"token operator"},"-"),t(),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},";"),t("\n            "),a("span",{class:"token keyword"},"while"),t(),a("span",{class:"token punctuation"},"("),t("left "),a("span",{class:"token operator"},"<"),t(" right"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n                "),a("span",{class:"token keyword"},"let"),t(" middle "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"("),t("left "),a("span",{class:"token operator"},"+"),t(" right"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),a("span",{class:"token operator"},">>"),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},";"),t("\n                "),a("span",{class:"token keyword"},"if"),t(),a("span",{class:"token punctuation"},"("),t("result"),a("span",{class:"token punctuation"},"["),t("middle"),a("span",{class:"token punctuation"},"]"),t(),a("span",{class:"token operator"},"<"),t(" nums"),a("span",{class:"token punctuation"},"["),t("i"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n                    left "),a("span",{class:"token operator"},"="),t(" middle "),a("span",{class:"token operator"},"+"),t(),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},";"),t("\n                "),a("span",{class:"token punctuation"},"}"),t(),a("span",{class:"token keyword"},"else"),t(),a("span",{class:"token punctuation"},"{"),t("\n                    right "),a("span",{class:"token operator"},"="),t(" middle"),a("span",{class:"token punctuation"},";"),t("\n                "),a("span",{class:"token punctuation"},"}"),t("\n            "),a("span",{class:"token punctuation"},"}"),t("\n            "),a("span",{class:"token comment"},"// 替换当前下标"),t("\n            result"),a("span",{class:"token punctuation"},"["),t("left"),a("span",{class:"token punctuation"},"]"),t(),a("span",{class:"token operator"},"="),t(" nums"),a("span",{class:"token punctuation"},"["),t("i"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},";"),t("\n        "),a("span",{class:"token punctuation"},"}"),t("\n    "),a("span",{class:"token punctuation"},"}"),t("\n    "),a("span",{class:"token keyword"},"return"),t(" result"),a("span",{class:"token punctuation"},"."),t("length"),a("span",{class:"token punctuation"},";"),t("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},";"),t("\n")])])],-1),a("h2",{id:"响应式原理",tabindex:"-1"},[t("响应式原理 "),a("a",{class:"header-anchor",href:"#响应式原理","aria-hidden":"true"},"#")],-1),a("p",null,"未完待续……",-1),a("h3",{id:"ref",tabindex:"-1"},[t("Ref "),a("a",{class:"header-anchor",href:"#ref","aria-hidden":"true"},"#")],-1),a("ul",null,[a("li",null,[a("p",null,[a("strong",null,"ref"),t("，接受一个内部值，返回一个响应式、可更改的ref对象，只有一个指向其内部值的属性.value")])]),a("li",null,[a("p",null,[a("strong",null,"isRef"),t("，检测某个值是否为ref")])]),a("li",null,[a("p",null,[a("strong",null,"toRef"),t("，基于响应式对象上的一个属性，创建一个对应的 ref。这样创建的 ref 与其源属性保持同步：改变源属性的值将更新 ref 的值，反之亦然。")]),a("div",{class:"language-javascript"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"const"),t(" state "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token function"},"reactive"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),t("\n  foo"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},","),t("\n  bar"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token number"},"2"),t("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),t("\n\n"),a("span",{class:"token keyword"},"const"),t(" fooRef "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token function"},"toRef"),a("span",{class:"token punctuation"},"("),t("state"),a("span",{class:"token punctuation"},","),t(),a("span",{class:"token string"},"'foo'"),a("span",{class:"token punctuation"},")"),t("\n\n"),a("span",{class:"token comment"},"// 更改该 ref 会更新源属性"),t("\nfooRef"),a("span",{class:"token punctuation"},"."),t("value"),a("span",{class:"token operator"},"++"),t("\nconsole"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),t("state"),a("span",{class:"token punctuation"},"."),t("foo"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token comment"},"// 2"),t("\n\n"),a("span",{class:"token comment"},"// 更改源属性也会更新该 ref"),t("\nstate"),a("span",{class:"token punctuation"},"."),t("foo"),a("span",{class:"token operator"},"++"),t("\nconsole"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),t("fooRef"),a("span",{class:"token punctuation"},"."),t("value"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token comment"},"// 3"),t("\n\n")])])])]),a("li",null,[a("p",null,[a("strong",null,"toRefs")]),a("div",{class:"language-javascript"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"function"),t(),a("span",{class:"token function"},"useFeatureX"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n  "),a("span",{class:"token keyword"},"const"),t(" state "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token function"},"reactive"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),t("\n    foo"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},","),t("\n    bar"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token number"},"2"),t("\n  "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),t("\n\n  "),a("span",{class:"token comment"},"// ...基于状态的操作逻辑"),t("\n\n  "),a("span",{class:"token comment"},"// 在返回时都转为 ref"),t("\n  "),a("span",{class:"token keyword"},"return"),t(),a("span",{class:"token function"},"toRefs"),a("span",{class:"token punctuation"},"("),t("state"),a("span",{class:"token punctuation"},")"),t("\n"),a("span",{class:"token punctuation"},"}"),t("\n\n"),a("span",{class:"token comment"},"// 可以解构而不会失去响应性"),t("\n"),a("span",{class:"token keyword"},"const"),t(),a("span",{class:"token punctuation"},"{"),t(" foo"),a("span",{class:"token punctuation"},","),t(" bar "),a("span",{class:"token punctuation"},"}"),t(),a("span",{class:"token operator"},"="),t(),a("span",{class:"token function"},"useFeatureX"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t("\n")])])])]),a("li",null,[a("p",null,[a("strong",null,"shallowRef"),t(" 浅层的响应式 可用"),a("strong",null,"triggerRef"),t(" 强制触发依赖于一个"),a("a",{href:"https://cn.vuejs.org/api/reactivity-advanced.html#shallowref",target:"_blank",rel:"noopener noreferrer"},"浅层 ref"),t(" 的副作用")]),a("div",{class:"language-javascript"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"const"),t(" state "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token function"},"shallowRef"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),t(" count"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token number"},"1"),t(),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),t("\n\n"),a("span",{class:"token comment"},"// 不会触发更改"),t("\nstate"),a("span",{class:"token punctuation"},"."),t("value"),a("span",{class:"token punctuation"},"."),t("count "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token number"},"2"),t("\n\n"),a("span",{class:"token comment"},"// 会触发更改"),t("\nstate"),a("span",{class:"token punctuation"},"."),t("value "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token punctuation"},"{"),t(" count"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token number"},"2"),t(),a("span",{class:"token punctuation"},"}"),t("\n")])])])]),a("li",null,[a("p",null,"**customRef ** 自定义的ref，可以加入防抖等功能")])],-1),a("h3",{id:"reactive",tabindex:"-1"},[t("Reactive "),a("a",{class:"header-anchor",href:"#reactive","aria-hidden":"true"},"#")],-1),a("ul",null,[a("li",null,[a("p",null,"reactive 返回一个对象的响应式代理")]),a("li",null,[a("p",null,"shallowReactive")]),a("li",null,[a("p",null,"toRaw 返回原始对象")])],-1),a("h3",{id:"computed",tabindex:"-1"},[t("Computed "),a("a",{class:"header-anchor",href:"#computed","aria-hidden":"true"},"#")],-1),a("div",{class:"language-javascript"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"const"),t(" count "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token function"},"ref"),a("span",{class:"token punctuation"},"("),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},")"),t("\n"),a("span",{class:"token keyword"},"const"),t(" plusOne "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token function"},"computed"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),t("\n  "),a("span",{class:"token function-variable function"},"get"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"=>"),t(" count"),a("span",{class:"token punctuation"},"."),t("value "),a("span",{class:"token operator"},"+"),t(),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},","),t("\n  "),a("span",{class:"token function-variable function"},"set"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},"val"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"=>"),t(),a("span",{class:"token punctuation"},"{"),t("\n    count"),a("span",{class:"token punctuation"},"."),t("value "),a("span",{class:"token operator"},"="),t(" val "),a("span",{class:"token operator"},"-"),t(),a("span",{class:"token number"},"1"),t("\n  "),a("span",{class:"token punctuation"},"}"),t("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),t("\n\nplusOne"),a("span",{class:"token punctuation"},"."),t("value "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token number"},"1"),t("\nconsole"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),t("count"),a("span",{class:"token punctuation"},"."),t("value"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token comment"},"// 0"),t("\n")])])],-1),a("h3",{id:"watch",tabindex:"-1"},[t("Watch "),a("a",{class:"header-anchor",href:"#watch","aria-hidden":"true"},"#")],-1),a("ul",null,[a("li",null,[a("strong",null,"watch")])],-1),a("div",{class:"language-javascript"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"const"),t(" state "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token function"},"reactive"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),t(" count"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token number"},"0"),t(),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),t("\n"),a("span",{class:"token comment"},"// 监听一个getter函数"),t("\n"),a("span",{class:"token function"},"watch"),a("span",{class:"token punctuation"},"("),t("\n  "),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"=>"),t(" state"),a("span",{class:"token punctuation"},"."),t("count"),a("span",{class:"token punctuation"},","),t("\n  "),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},[t("count"),a("span",{class:"token punctuation"},","),t(" prevCount")]),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"=>"),t(),a("span",{class:"token punctuation"},"{"),t("\n    "),a("span",{class:"token comment"},"/* ... */"),t("\n  "),a("span",{class:"token punctuation"},"}"),t("\n"),a("span",{class:"token punctuation"},")"),t("\n"),a("span",{class:"token comment"},"// 监听多个值"),t("\n"),a("span",{class:"token function"},"watch"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"["),t("fooRef"),a("span",{class:"token punctuation"},","),t(" barRef"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},","),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},[a("span",{class:"token punctuation"},"["),t("foo"),a("span",{class:"token punctuation"},","),t(" bar"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},","),t(),a("span",{class:"token punctuation"},"["),t("prevFoo"),a("span",{class:"token punctuation"},","),t(" prevBar"),a("span",{class:"token punctuation"},"]")]),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"=>"),t(),a("span",{class:"token punctuation"},"{"),t("\n  "),a("span",{class:"token comment"},"/* ... */"),t("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),t("\n")])])],-1),a("ul",null,[a("li",null,[a("p",null,[a("strong",null,"watchEffect"),t(" 默认immediate:true，无需指定属性")]),a("div",{class:"language-javascript"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"const"),t(" stop "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token function"},"watchEffect"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},"effect"),a("span",{class:"token punctuation"},")"),a("span",{class:"token operator"},"=>"),a("span",{class:"token punctuation"},"{"),t("\n  "),a("span",{class:"token keyword"},"let"),t(" ipt"),a("span",{class:"token operator"},":"),t("HTMLInputElement "),a("span",{class:"token operator"},"="),t(" document"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"querySelector"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'#ipt'"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token keyword"},"as"),t(" HTMLInputElement\n  console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),t("ipt"),a("span",{class:"token punctuation"},")"),t("\n  console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),t("message1"),a("span",{class:"token punctuation"},"."),t("value"),a("span",{class:"token punctuation"},")"),t("\n  "),a("span",{class:"token function"},"effect"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token operator"},"=>"),a("span",{class:"token punctuation"},"{"),t("\n    console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'before'"),a("span",{class:"token punctuation"},")"),t("\n  "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),t("\n \n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),a("span",{class:"token punctuation"},"{"),t("\n  flush"),a("span",{class:"token operator"},":"),a("span",{class:"token string"},"'post'"),a("span",{class:"token comment"},"//在dom渲染之后调用，默认为pre"),t("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),t("\n")])])])])],-1),a("h2",{id:"生命周期",tabindex:"-1"},[t("生命周期 "),a("a",{class:"header-anchor",href:"#生命周期","aria-hidden":"true"},"#")],-1),a("p",null,"一个组件从创建到销毁的过程称为生命周期",-1),a("p",null,"vue3的组合式api(setup)是没有 beforeCreate 和 created 生命周期的",-1),a("h3",{id:"onbeforemount",tabindex:"-1"},[t("onBeforeMount() "),a("a",{class:"header-anchor",href:"#onbeforemount","aria-hidden":"true"},"#")],-1),a("p",null,"在组件DOM实际渲染安装之前调用，根元素还不存在",-1),a("h3",{id:"onmounted",tabindex:"-1"},[t("onMounted() "),a("a",{class:"header-anchor",href:"#onmounted","aria-hidden":"true"},"#")],-1),a("p",null,"在组件的第一次渲染后调用，允许直接DOM访问",-1),a("h3",{id:"onbeforeupdate",tabindex:"-1"},[t("onBeforeUpdate() "),a("a",{class:"header-anchor",href:"#onbeforeupdate","aria-hidden":"true"},"#")],-1),a("p",null,"数据更新时调用，发生在虚拟DOM打补丁之前",-1),a("h3",{id:"onupdated",tabindex:"-1"},[t("onUpdated() "),a("a",{class:"header-anchor",href:"#onupdated","aria-hidden":"true"},"#")],-1),a("p",null,"DOM更新后，updated的方法即会调用",-1),a("h3",{id:"onbeforeunmount",tabindex:"-1"},[t("onBeforeUnmount() "),a("a",{class:"header-anchor",href:"#onbeforeunmount","aria-hidden":"true"},"#")],-1),a("p",null,"在卸载组件实例之前调用",-1),a("h3",{id:"onunmounted",tabindex:"-1"},[t("onUnmounted() "),a("a",{class:"header-anchor",href:"#onunmounted","aria-hidden":"true"},"#")],-1),a("p",null,"卸载组件实例后调用，调用此钩子所有指令都被解除绑定，所有时间侦听器都被移除，所有子组件实例被卸载",-1),a("h2",{id:"父子组件传参",tabindex:"-1"},[t("父子组件传参 "),a("a",{class:"header-anchor",href:"#父子组件传参","aria-hidden":"true"},"#")],-1),a("h3",{id:"defineprops",tabindex:"-1"},[t("defineProps "),a("a",{class:"header-anchor",href:"#defineprops","aria-hidden":"true"},"#")],-1),a("p",null,[a("strong",null,"defineProps"),t("-子组件接收父组件的值")],-1),a("div",{class:"language-javascript"},[a("pre",null,[a("code",null,[a("span",{class:"token comment"},"// js"),t("\n"),a("span",{class:"token keyword"},"const"),t(" props "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token function"},"defineProps"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),t("\n  data"),a("span",{class:"token operator"},":"),a("span",{class:"token punctuation"},"{"),t("\n    type"),a("span",{class:"token operator"},":"),t("String"),a("span",{class:"token punctuation"},","),t("\n    "),a("span",{class:"token keyword"},"default"),a("span",{class:"token operator"},":"),a("span",{class:"token string"},"''"),t("\n  "),a("span",{class:"token punctuation"},"}"),t("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),t("\n"),a("span",{class:"token comment"},"//ts withDefaults(ts特有的)"),t("\n"),a("span",{class:"token keyword"},"const"),t(" props1 "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token function"},"withDefaults"),a("span",{class:"token punctuation"},"("),t("defineProps"),a("span",{class:"token operator"},"<"),a("span",{class:"token punctuation"},"{"),t("\n    data"),a("span",{class:"token operator"},":"),t("string\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token operator"},">"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},","),a("span",{class:"token punctuation"},"{"),t("\n    data"),a("span",{class:"token operator"},":"),a("span",{class:"token string"},"'xxx'"),t("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),t("\n")])])],-1),a("h3",{id:"defineemits",tabindex:"-1"},[t("defineEmits "),a("a",{class:"header-anchor",href:"#defineemits","aria-hidden":"true"},"#")],-1),a("p",null,[a("strong",null,"defineEmits"),t("-父组件接收子组件的值")],-1),a("div",{class:"language-javascript"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"const"),t(" obj "),a("span",{class:"token operator"},"="),t(" reactive"),a("span",{class:"token operator"},"<"),t("number"),a("span",{class:"token punctuation"},"["),a("span",{class:"token punctuation"},"]"),a("span",{class:"token operator"},">"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"["),a("span",{class:"token number"},"4"),a("span",{class:"token punctuation"},","),a("span",{class:"token number"},"5"),a("span",{class:"token punctuation"},","),a("span",{class:"token number"},"6"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},")"),t("\n"),a("span",{class:"token comment"},"//js "),t("\n"),a("span",{class:"token keyword"},"const"),t(" emit "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token function"},"defineEmits"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"["),a("span",{class:"token string"},"'on-click'"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},")"),t("\n"),a("span",{class:"token comment"},"//ts"),t("\n"),a("span",{class:"token keyword"},"const"),t(" emit "),a("span",{class:"token operator"},"="),t(" defineEmits"),a("span",{class:"token operator"},"<"),a("span",{class:"token punctuation"},"{"),t("\n    "),a("span",{class:"token punctuation"},"("),t("e"),a("span",{class:"token operator"},":"),a("span",{class:"token string"},"'on-click'"),a("span",{class:"token punctuation"},","),t("obj"),a("span",{class:"token operator"},":"),t("number"),a("span",{class:"token punctuation"},"["),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},")"),a("span",{class:"token operator"},":"),a("span",{class:"token keyword"},"void"),t("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token operator"},">"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t("\n"),a("span",{class:"token keyword"},"const"),t(),a("span",{class:"token function-variable function"},"clickTap"),t(),a("span",{class:"token operator"},"="),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token operator"},"=>"),a("span",{class:"token punctuation"},"{"),t("\n    "),a("span",{class:"token function"},"emit"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'on-click'"),a("span",{class:"token punctuation"},","),t("obj"),a("span",{class:"token punctuation"},")"),t("\n"),a("span",{class:"token punctuation"},"}"),t("\n")])])],-1),a("h3",{id:"ref-defineexpose",tabindex:"-1"},[t("ref (defineExpose) "),a("a",{class:"header-anchor",href:"#ref-defineexpose","aria-hidden":"true"},"#")],-1),a("p",null,[a("strong",null,"ref"),t(" -父组件使用子组件的值或者方法")],-1),a("div",{class:"language-javascript"},[a("pre",null,[a("code",null,[a("span",{class:"token comment"},"// 父组件代码"),t("\n"),a("span",{class:"token operator"},"<"),t("template"),a("span",{class:"token operator"},">"),t("\n "),a("span",{class:"token operator"},"<"),a("span",{class:"token constant"},"A"),t(" ref"),a("span",{class:"token operator"},"="),a("span",{class:"token string"},'"child"'),a("span",{class:"token operator"},">"),a("span",{class:"token operator"},"<"),a("span",{class:"token operator"},"/"),a("span",{class:"token constant"},"A"),a("span",{class:"token operator"},">"),t("\n"),a("span",{class:"token operator"},"<"),a("span",{class:"token operator"},"/"),t("template"),a("span",{class:"token operator"},">"),t("\n"),a("span",{class:"token operator"},"<"),t("script"),a("span",{class:"token operator"},">"),t("\n"),a("span",{class:"token keyword"},"const"),t(" child "),a("span",{class:"token operator"},"="),t(" ref"),a("span",{class:"token operator"},"<"),t("InstanceType"),a("span",{class:"token operator"},"<"),a("span",{class:"token keyword"},"typeof"),t(),a("span",{class:"token constant"},"A"),a("span",{class:"token operator"},">"),t(),a("span",{class:"token operator"},"|"),t(),a("span",{class:"token keyword"},"null"),a("span",{class:"token operator"},">"),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"null"),a("span",{class:"token punctuation"},")"),t("\n"),a("span",{class:"token operator"},"<"),a("span",{class:"token operator"},"/"),t("script"),a("span",{class:"token operator"},">"),t("\n"),a("span",{class:"token comment"},"// 子组件代码"),t("\n"),a("span",{class:"token keyword"},"const"),t(" obj "),a("span",{class:"token operator"},"="),t(" reactive"),a("span",{class:"token operator"},"<"),t("number"),a("span",{class:"token punctuation"},"["),a("span",{class:"token punctuation"},"]"),a("span",{class:"token operator"},">"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"["),a("span",{class:"token number"},"4"),a("span",{class:"token punctuation"},","),a("span",{class:"token number"},"5"),a("span",{class:"token punctuation"},","),a("span",{class:"token number"},"6"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},")"),t("\n"),a("span",{class:"token keyword"},"const"),t(" name "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token function"},"ref"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'123'"),a("span",{class:"token punctuation"},")"),t("\n\n"),a("span",{class:"token function"},"defineExpose"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"{"),t("\n    obj"),a("span",{class:"token punctuation"},","),t("\n    name\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),t("\n")])])],-1),a("h3",{id:"案例-封装瀑布流事件",tabindex:"-1"},[t("案例(封装瀑布流事件) "),a("a",{class:"header-anchor",href:"#案例-封装瀑布流事件","aria-hidden":"true"},"#")],-1),a("p",null,"使用js来实现绝对定位,具体代码如下",-1),a("div",{class:"language-javascript"},[a("pre",null,[a("code",null,[t("\n"),a("span",{class:"token operator"},"<"),a("span",{class:"token operator"},"!"),a("span",{class:"token operator"},"--"),t(" 瀑布流案例 "),a("span",{class:"token operator"},"--"),a("span",{class:"token operator"},">"),t("\n"),a("span",{class:"token operator"},"<"),t("template"),a("span",{class:"token operator"},">"),t("\n    "),a("span",{class:"token operator"},"<"),t("div "),a("span",{class:"token keyword"},"class"),a("span",{class:"token operator"},"="),a("span",{class:"token string"},'"wraps"'),a("span",{class:"token operator"},">"),t("\n        "),a("span",{class:"token operator"},"<"),t("div "),a("span",{class:"token operator"},":"),t("style"),a("span",{class:"token operator"},"="),a("span",{class:"token string"},"\"{height:item.height+'px',background:item.background,top:item.top+'px',left:item.left + 'px'}\""),t("\n            v"),a("span",{class:"token operator"},"-"),a("span",{class:"token keyword"},"for"),a("span",{class:"token operator"},"="),a("span",{class:"token string"},'"item in waterList"'),t(),a("span",{class:"token keyword"},"class"),a("span",{class:"token operator"},"="),a("span",{class:"token string"},'"items"'),a("span",{class:"token operator"},">"),a("span",{class:"token operator"},"<"),a("span",{class:"token operator"},"/"),t("div"),a("span",{class:"token operator"},">"),t("\n    "),a("span",{class:"token operator"},"<"),a("span",{class:"token operator"},"/"),t("div"),a("span",{class:"token operator"},">"),t("\n"),a("span",{class:"token operator"},"<"),a("span",{class:"token operator"},"/"),t("template"),a("span",{class:"token operator"},">"),t("\n"),a("span",{class:"token operator"},"<"),t("script setup lang"),a("span",{class:"token operator"},"="),a("span",{class:"token string"},'"ts"'),a("span",{class:"token operator"},">"),t("\n"),a("span",{class:"token keyword"},"import"),t(),a("span",{class:"token punctuation"},"{"),t(" reactive"),a("span",{class:"token punctuation"},","),t(" onMounted "),a("span",{class:"token punctuation"},"}"),t(),a("span",{class:"token keyword"},"from"),t(),a("span",{class:"token string"},"'vue'"),t("\n"),a("span",{class:"token keyword"},"const"),t(" props "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token function"},"defineProps"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"["),a("span",{class:"token string"},"'list'"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},")"),t("\n\n"),a("span",{class:"token keyword"},"const"),t(" waterList "),a("span",{class:"token operator"},"="),t(" reactive"),a("span",{class:"token operator"},"<"),t("any"),a("span",{class:"token punctuation"},"["),a("span",{class:"token punctuation"},"]"),a("span",{class:"token operator"},">"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"["),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},")"),t("\n"),a("span",{class:"token keyword"},"const"),t(),a("span",{class:"token function-variable function"},"init"),t(),a("span",{class:"token operator"},"="),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"=>"),t(),a("span",{class:"token punctuation"},"{"),t("\n    "),a("span",{class:"token comment"},"// 存储高度"),t("\n    "),a("span",{class:"token keyword"},"const"),t(" heightList"),a("span",{class:"token operator"},":"),t(" any"),a("span",{class:"token punctuation"},"["),a("span",{class:"token punctuation"},"]"),t(),a("span",{class:"token operator"},"="),t(),a("span",{class:"token punctuation"},"["),a("span",{class:"token punctuation"},"]"),t("\n    "),a("span",{class:"token keyword"},"const"),t(" width "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token number"},"130"),t("\n    "),a("span",{class:"token comment"},"// clientWidth元素的宽度，包含padding"),t("\n    "),a("span",{class:"token keyword"},"const"),t(" x "),a("span",{class:"token operator"},"="),t(" document"),a("span",{class:"token punctuation"},"."),t("body"),a("span",{class:"token punctuation"},"."),t("clientWidth\n\n    "),a("span",{class:"token comment"},"// 计算出一列放几条数据"),t("\n    "),a("span",{class:"token keyword"},"const"),t(" column "),a("span",{class:"token operator"},"="),t(" Math"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"floor"),a("span",{class:"token punctuation"},"("),t("x "),a("span",{class:"token operator"},"/"),t(" width"),a("span",{class:"token punctuation"},")"),t("\n    console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),t("column"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),t("\n\n    "),a("span",{class:"token keyword"},"for"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"let"),t(" i "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token number"},"0"),a("span",{class:"token punctuation"},";"),t(" i "),a("span",{class:"token operator"},"<"),t(" props"),a("span",{class:"token punctuation"},"."),t("list"),a("span",{class:"token punctuation"},"."),t("length"),a("span",{class:"token punctuation"},";"),t(" i"),a("span",{class:"token operator"},"++"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n        "),a("span",{class:"token keyword"},"if"),t(),a("span",{class:"token punctuation"},"("),t("i "),a("span",{class:"token operator"},"<"),t(" column"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n            props"),a("span",{class:"token punctuation"},"."),t("list"),a("span",{class:"token punctuation"},"["),t("i"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},"."),t("top "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token number"},"10"),a("span",{class:"token punctuation"},";"),t("\n            props"),a("span",{class:"token punctuation"},"."),t("list"),a("span",{class:"token punctuation"},"["),t("i"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},"."),t("left "),a("span",{class:"token operator"},"="),t(" i "),a("span",{class:"token operator"},"*"),t(" width"),a("span",{class:"token punctuation"},";"),t("\n            heightList"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"push"),a("span",{class:"token punctuation"},"("),t("props"),a("span",{class:"token punctuation"},"."),t("list"),a("span",{class:"token punctuation"},"["),t("i"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},"."),t("height "),a("span",{class:"token operator"},"+"),t(),a("span",{class:"token number"},"10"),a("span",{class:"token punctuation"},")"),t("\n            waterList"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"push"),a("span",{class:"token punctuation"},"("),t("props"),a("span",{class:"token punctuation"},"."),t("list"),a("span",{class:"token punctuation"},"["),t("i"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},")"),t("\n        "),a("span",{class:"token punctuation"},"}"),t(),a("span",{class:"token keyword"},"else"),t(),a("span",{class:"token punctuation"},"{"),t("\n            "),a("span",{class:"token keyword"},"let"),t(" current "),a("span",{class:"token operator"},"="),t(" heightList"),a("span",{class:"token punctuation"},"["),a("span",{class:"token number"},"0"),a("span",{class:"token punctuation"},"]"),t("\n            "),a("span",{class:"token keyword"},"let"),t(" index "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token number"},"0"),a("span",{class:"token punctuation"},";"),t("\n            "),a("span",{class:"token comment"},"// 找出第一行最小的高度"),t("\n            heightList"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"forEach"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},[t("h"),a("span",{class:"token punctuation"},","),t(" inx")]),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"=>"),t(),a("span",{class:"token punctuation"},"{"),t("\n                "),a("span",{class:"token keyword"},"if"),t(),a("span",{class:"token punctuation"},"("),t("current "),a("span",{class:"token operator"},">"),t(" h"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n                    current "),a("span",{class:"token operator"},"="),t(" h"),a("span",{class:"token punctuation"},";"),t("\n                    index "),a("span",{class:"token operator"},"="),t(" inx"),a("span",{class:"token punctuation"},";"),t("\n                "),a("span",{class:"token punctuation"},"}"),t("\n            "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),t("\n            props"),a("span",{class:"token punctuation"},"."),t("list"),a("span",{class:"token punctuation"},"["),t("i"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},"."),t("top "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token punctuation"},"("),t("current "),a("span",{class:"token operator"},"+"),t(),a("span",{class:"token number"},"20"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),t("\n            props"),a("span",{class:"token punctuation"},"."),t("list"),a("span",{class:"token punctuation"},"["),t("i"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},"."),t("left "),a("span",{class:"token operator"},"="),t(" index "),a("span",{class:"token operator"},"*"),t(" width"),a("span",{class:"token punctuation"},";"),t("\n            "),a("span",{class:"token comment"},"// 拼装第二行的高度"),t("\n            heightList"),a("span",{class:"token punctuation"},"["),t("index"),a("span",{class:"token punctuation"},"]"),t(),a("span",{class:"token operator"},"="),t("  "),a("span",{class:"token punctuation"},"("),t("heightList"),a("span",{class:"token punctuation"},"["),t("index"),a("span",{class:"token punctuation"},"]"),t(),a("span",{class:"token operator"},"+"),t(" props"),a("span",{class:"token punctuation"},"."),t("list"),a("span",{class:"token punctuation"},"["),t("i"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},"."),t("height "),a("span",{class:"token operator"},"+"),t(),a("span",{class:"token number"},"20"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},";"),t("\n            waterList"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"push"),a("span",{class:"token punctuation"},"("),t("props"),a("span",{class:"token punctuation"},"."),t("list"),a("span",{class:"token punctuation"},"["),t("i"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},")"),t("\n        "),a("span",{class:"token punctuation"},"}"),t("\n    "),a("span",{class:"token punctuation"},"}"),t("\n"),a("span",{class:"token punctuation"},"}"),t("\n"),a("span",{class:"token function"},"onMounted"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"=>"),t(),a("span",{class:"token punctuation"},"{"),t("\n    window"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function-variable function"},"onresize"),t(),a("span",{class:"token operator"},"="),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"=>"),t(),a("span",{class:"token function"},"init"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t("\n    "),a("span",{class:"token function"},"init"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),t("\n\n"),a("span",{class:"token operator"},"<"),a("span",{class:"token operator"},"/"),t("script"),a("span",{class:"token operator"},">"),t("\n\n"),a("span",{class:"token operator"},"<"),t("style "),a("span",{class:"token operator"},">"),t("\n"),a("span",{class:"token punctuation"},"."),t("wraps "),a("span",{class:"token punctuation"},"{"),t("\n    position"),a("span",{class:"token operator"},":"),t(" relative"),a("span",{class:"token punctuation"},";"),t("\n    width"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token number"},"100"),a("span",{class:"token operator"},"%"),a("span",{class:"token punctuation"},";"),t("\n    height"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token number"},"100"),a("span",{class:"token operator"},"%"),a("span",{class:"token punctuation"},";"),t("\n\n"),a("span",{class:"token punctuation"},"}"),t("\n\n"),a("span",{class:"token punctuation"},"."),t("items "),a("span",{class:"token punctuation"},"{"),t("\n    position"),a("span",{class:"token operator"},":"),t(" absolute"),a("span",{class:"token punctuation"},";"),t("\n    width"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token number"},"120"),t("px"),a("span",{class:"token punctuation"},";"),t("\n"),a("span",{class:"token punctuation"},"}"),t("\n"),a("span",{class:"token operator"},"<"),a("span",{class:"token operator"},"/"),t("style"),a("span",{class:"token operator"},">"),t("\n\n")])])],-1),a("h2",{id:"全局组件，局部组件，递归组件",tabindex:"-1"},[t("全局组件，局部组件，递归组件 "),a("a",{class:"header-anchor",href:"#全局组件，局部组件，递归组件","aria-hidden":"true"},"#")],-1),a("h3",{id:"全局组件",tabindex:"-1"},[t("全局组件 "),a("a",{class:"header-anchor",href:"#全局组件","aria-hidden":"true"},"#")],-1),a("div",{class:"language-javascript"},[a("pre",null,[a("code",null,[a("span",{class:"token comment"},"//main.ts"),t("\n"),a("span",{class:"token keyword"},"import"),t(" Card "),a("span",{class:"token keyword"},"from"),t(),a("span",{class:"token string"},"'./components/Card/index.vue'"),t("\n"),a("span",{class:"token function"},"createApp"),a("span",{class:"token punctuation"},"("),t("App"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"component"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'Card'"),a("span",{class:"token punctuation"},","),t("Card"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"mount"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'#app'"),a("span",{class:"token punctuation"},")"),t("\n\n"),a("span",{class:"token comment"},"//如果要注册所有的组件"),t("\n"),a("span",{class:"token keyword"},"import"),t(),a("span",{class:"token operator"},"*"),t(),a("span",{class:"token keyword"},"as"),t(" ElementPlusIconsVue "),a("span",{class:"token keyword"},"from"),t(),a("span",{class:"token string"},"'@element-plus/icons-vue'"),t("\n\n"),a("span",{class:"token keyword"},"const"),t(" app "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token function"},"createApp"),a("span",{class:"token punctuation"},"("),t("App"),a("span",{class:"token punctuation"},")"),t("\n"),a("span",{class:"token keyword"},"for"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"const"),t(),a("span",{class:"token punctuation"},"["),t("key"),a("span",{class:"token punctuation"},","),t(" component"),a("span",{class:"token punctuation"},"]"),t(),a("span",{class:"token keyword"},"of"),t(" Object"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"entries"),a("span",{class:"token punctuation"},"("),t("ElementPlusIconsVue"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n  app"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"component"),a("span",{class:"token punctuation"},"("),t("key"),a("span",{class:"token punctuation"},","),t(" component"),a("span",{class:"token punctuation"},")"),t("\n"),a("span",{class:"token punctuation"},"}"),t("\n")])])],-1),a("h3",{id:"递归组件",tabindex:"-1"},[t("递归组件 "),a("a",{class:"header-anchor",href:"#递归组件","aria-hidden":"true"},"#")],-1),a("p",null,"原理和js递归是一样的，自己调用自己，通过一个条件来结束递归，否则导致内存泄漏",-1),a("div",{class:"language-vue"},[a("pre",null,[a("code",null,[t("// 父组件\n"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("Tree")]),t(),a("span",{class:"token attr-name"},":data"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),t("data"),a("span",{class:"token punctuation"},'"')]),a("span",{class:"token punctuation"},">")]),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("Tree")]),a("span",{class:"token punctuation"},">")]),t("\n// 子组件\n// 递归组件\n"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("template")]),a("span",{class:"token punctuation"},">")]),t("\n    "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("div")]),t(),a("span",{class:"token attr-name"},"@click.stop"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),t("clickTap(item,$event)"),a("span",{class:"token punctuation"},'"')]),t(),a("span",{class:"token attr-name"},"v-for"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),t("item in data"),a("span",{class:"token punctuation"},'"')]),t(),a("span",{class:"token punctuation"},">")]),t("\n        "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("input")]),t(),a("span",{class:"token attr-name"},"type"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),t("checkbox"),a("span",{class:"token punctuation"},'"')]),t(),a("span",{class:"token attr-name"},"v-model"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),t("item.checked"),a("span",{class:"token punctuation"},'"')]),a("span",{class:"token punctuation"},">")]),t(),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("span")]),a("span",{class:"token punctuation"},">")]),t("{{ item.name }}"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("span")]),a("span",{class:"token punctuation"},">")]),t("\n        "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("Tree")]),t(),a("span",{class:"token attr-name"},"v-if"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),t("item?.children?.length"),a("span",{class:"token punctuation"},'"')]),t(),a("span",{class:"token attr-name"},":data"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),t("item?.children"),a("span",{class:"token punctuation"},'"')]),a("span",{class:"token punctuation"},">")]),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("Tree")]),a("span",{class:"token punctuation"},">")]),t("\n    "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("div")]),a("span",{class:"token punctuation"},">")]),t("\n"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("template")]),a("span",{class:"token punctuation"},">")]),t("\n"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("script")]),t(),a("span",{class:"token attr-name"},"setup"),t(),a("span",{class:"token attr-name"},"lang"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),t("ts"),a("span",{class:"token punctuation"},'"')]),a("span",{class:"token punctuation"},">")]),a("span",{class:"token script"},[a("span",{class:"token language-javascript"},[t("\n"),a("span",{class:"token keyword"},"interface"),t(),a("span",{class:"token class-name"},"TreeList"),t("  "),a("span",{class:"token punctuation"},"{"),t("\n  name"),a("span",{class:"token operator"},":"),t("string"),a("span",{class:"token punctuation"},","),t("\n  checked"),a("span",{class:"token operator"},":"),t("boolean"),a("span",{class:"token punctuation"},","),t("\n  children"),a("span",{class:"token operator"},"?"),a("span",{class:"token operator"},":"),t("TreeList"),a("span",{class:"token punctuation"},"["),a("span",{class:"token punctuation"},"]"),t("\n"),a("span",{class:"token punctuation"},"}"),t("\ntype Props"),a("span",{class:"token operator"},"<"),a("span",{class:"token constant"},"T"),a("span",{class:"token operator"},">"),t(),a("span",{class:"token operator"},"="),t(),a("span",{class:"token punctuation"},"{"),t("\n    data"),a("span",{class:"token operator"},"?"),a("span",{class:"token operator"},":"),a("span",{class:"token constant"},"T"),a("span",{class:"token punctuation"},"["),a("span",{class:"token punctuation"},"]"),t(),a("span",{class:"token operator"},"|"),t(),a("span",{class:"token punctuation"},"["),a("span",{class:"token punctuation"},"]"),t("\n"),a("span",{class:"token punctuation"},"}"),t("\n"),a("span",{class:"token keyword"},"const"),t(" props "),a("span",{class:"token operator"},"="),t(" defineProps"),a("span",{class:"token operator"},"<"),t("Props"),a("span",{class:"token operator"},"<"),t("TreeList"),a("span",{class:"token operator"},">>"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t("\n"),a("span",{class:"token keyword"},"const"),t(),a("span",{class:"token function-variable function"},"clickTap"),t(),a("span",{class:"token operator"},"="),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},[t("item"),a("span",{class:"token operator"},":"),t("TreeList"),a("span",{class:"token punctuation"},","),t("e"),a("span",{class:"token operator"},":"),t("Event")]),a("span",{class:"token punctuation"},")"),a("span",{class:"token operator"},"=>"),a("span",{class:"token punctuation"},"{"),t("\n    console"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"log"),a("span",{class:"token punctuation"},"("),t("item"),a("span",{class:"token punctuation"},","),t("e"),a("span",{class:"token punctuation"},")"),t("\n"),a("span",{class:"token punctuation"},"}"),t("\n\n")])]),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("script")]),a("span",{class:"token punctuation"},">")]),t("\n// 默认递归组件名称就是文件名，这里新建一个script来命名\n// 使用插件 "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("script")]),t(),a("span",{class:"token attr-name"},"setup"),t(),a("span",{class:"token attr-name"},"name"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},"'"),t("xxx"),a("span",{class:"token punctuation"},"'")]),t(),a("span",{class:"token attr-name"},"lang"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},"'"),t("ts"),a("span",{class:"token punctuation"},"'")]),a("span",{class:"token punctuation"},">")]),a("span",{class:"token script"},[a("span",{class:"token language-javascript"},[t("\n"),a("span",{class:"token operator"},"<"),t("script lang"),a("span",{class:"token operator"},"="),a("span",{class:"token string"},'"ts"'),a("span",{class:"token operator"},">"),t("\n"),a("span",{class:"token keyword"},"export"),t(),a("span",{class:"token keyword"},"default"),a("span",{class:"token punctuation"},"{"),t("\n    name"),a("span",{class:"token operator"},":"),a("span",{class:"token string"},"'tao'"),t("\n"),a("span",{class:"token punctuation"},"}"),t("\n")])]),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("script")]),a("span",{class:"token punctuation"},">")]),t("\n"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("style")]),t(),a("span",{class:"token attr-name"},"lang"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),t("css"),a("span",{class:"token punctuation"},'"')]),a("span",{class:"token punctuation"},">")]),a("span",{class:"token style"},[a("span",{class:"token language-css"},"\n\n")]),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("style")]),a("span",{class:"token punctuation"},">")]),t("\n")])])],-1),a("h3",{id:"动态组件",tabindex:"-1"},[t("动态组件 "),a("a",{class:"header-anchor",href:"#动态组件","aria-hidden":"true"},"#")],-1),a("p",null,"让多个组件使用同一个挂载点，并动态切换",-1),a("div",{class:"language-vue"},[a("pre",null,[a("code",null,[a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("template")]),a("span",{class:"token punctuation"},">")]),t("\n  "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("div")]),a("span",{class:"token punctuation"},">")]),t("\n    当前组件 {{ currentTab }}\n    "),a("span",{class:"token comment"},"\x3c!-- {{ tabs }} --\x3e"),t("\n    "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("button")]),t(),a("span",{class:"token attr-name"},"v-for"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),t("(_, tab) in tabs"),a("span",{class:"token punctuation"},'"')]),t(),a("span",{class:"token attr-name"},":key"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),t("tab"),a("span",{class:"token punctuation"},'"')]),t(),a("span",{class:"token attr-name"},":class"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),t("["),a("span",{class:"token punctuation"},"'"),t("tab-button"),a("span",{class:"token punctuation"},"'"),t(", { active: currentTab === tab }]"),a("span",{class:"token punctuation"},'"')]),t("\n      "),a("span",{class:"token attr-name"},"@click"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),t("currentTab = tab"),a("span",{class:"token punctuation"},'"')]),a("span",{class:"token punctuation"},">")]),t("{{ tab}}"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("button")]),a("span",{class:"token punctuation"},">")]),t("\n    "),a("span",{class:"token comment"},'\x3c!-- <Tree :data="data"></Tree> --\x3e'),t("\n    "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("component")]),t(),a("span",{class:"token attr-name"},":is"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),t("tabs[currentTab]"),a("span",{class:"token punctuation"},'"')]),a("span",{class:"token punctuation"},">")]),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("component")]),a("span",{class:"token punctuation"},">")]),t("\n  "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("div")]),a("span",{class:"token punctuation"},">")]),t("\n"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("template")]),a("span",{class:"token punctuation"},">")]),t("\n"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("script")]),t(),a("span",{class:"token attr-name"},"setup"),t(),a("span",{class:"token attr-name"},"lang"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),t("ts"),a("span",{class:"token punctuation"},'"')]),a("span",{class:"token punctuation"},">")]),a("span",{class:"token script"},[a("span",{class:"token language-javascript"},[t("\n"),a("span",{class:"token keyword"},"import"),t(),a("span",{class:"token constant"},"A"),t(),a("span",{class:"token keyword"},"from"),t(),a("span",{class:"token string"},"'./components/aciveComponent/A.vue'"),t("\n"),a("span",{class:"token keyword"},"import"),t(),a("span",{class:"token constant"},"B"),t(),a("span",{class:"token keyword"},"from"),t(),a("span",{class:"token string"},"'./components/aciveComponent/B.vue'"),t("\n"),a("span",{class:"token keyword"},"import"),t(),a("span",{class:"token constant"},"C"),t(),a("span",{class:"token keyword"},"from"),t(),a("span",{class:"token string"},"'./components/aciveComponent/C.vue'"),t("\n\n"),a("span",{class:"token keyword"},"const"),t(" currentTab "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token function"},"ref"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'A'"),a("span",{class:"token punctuation"},")"),t("\n\n"),a("span",{class:"token keyword"},"const"),t(" tabs"),a("span",{class:"token operator"},":"),t("any "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token punctuation"},"{"),t("\n  "),a("span",{class:"token constant"},"A"),a("span",{class:"token punctuation"},","),t(),a("span",{class:"token constant"},"B"),a("span",{class:"token punctuation"},","),t(),a("span",{class:"token constant"},"C"),t("\n"),a("span",{class:"token punctuation"},"}"),t("\n")])]),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("script")]),a("span",{class:"token punctuation"},">")]),t("\n")])])],-1),a("p",null,"1.在vue2通过组件名切换，在vue3 setup是通过组件实例切换",-1),a("p",null,"2.如果组件实例放在Reactive，得使用shallowRef或markRaw跳过proxy代理",-1),a("h2",{id:"插槽",tabindex:"-1"},[t("插槽 "),a("a",{class:"header-anchor",href:"#插槽","aria-hidden":"true"},"#")],-1),a("p",null,"插槽就是子组件给父组件使用的一个占位符，用《slot》《/slot》来表示",-1),a("h3",{id:"匿名插槽",tabindex:"-1"},[t("匿名插槽 "),a("a",{class:"header-anchor",href:"#匿名插槽","aria-hidden":"true"},"#")],-1),a("p",null,[t("在子组件放置一个插槽"),a("code",null,"<slot></slot>")],-1),a("h3",{id:"具名插槽",tabindex:"-1"},[t("具名插槽 "),a("a",{class:"header-anchor",href:"#具名插槽","aria-hidden":"true"},"#")],-1),a("p",null,[a("code",null,'<slot name="header"></slot>'),t(" 父组件 "),a("code",null,"<template v-slot:header></template>")],-1),a("h3",{id:"作用域插槽",tabindex:"-1"},[t("作用域插槽 "),a("a",{class:"header-anchor",href:"#作用域插槽","aria-hidden":"true"},"#")],-1),a("p",null,"父组件使用子组件的数据",-1),a("div",{class:"language-vue"},[a("pre",null,[a("code",null,[t("// 父组件\n"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("template")]),a("span",{class:"token punctuation"},">")]),t("\n    "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("div")]),a("span",{class:"token punctuation"},">")]),t("\n        "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("slot")]),t(),a("span",{class:"token attr-name"},":data"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),t("obj"),a("span",{class:"token punctuation"},'"')]),a("span",{class:"token punctuation"},">")]),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("slot")]),a("span",{class:"token punctuation"},">")]),t("\n    "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("div")]),a("span",{class:"token punctuation"},">")]),t("\n"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("template")]),a("span",{class:"token punctuation"},">")]),t("\n"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("script")]),t(),a("span",{class:"token attr-name"},"setup"),t(),a("span",{class:"token attr-name"},"lang"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),t("ts"),a("span",{class:"token punctuation"},'"')]),a("span",{class:"token punctuation"},">")]),a("span",{class:"token script"},[a("span",{class:"token language-javascript"},[t("\n"),a("span",{class:"token keyword"},"const"),t(" obj "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token punctuation"},"{"),t("\n    name"),a("span",{class:"token operator"},":"),a("span",{class:"token string"},"'兵哥哥'"),a("span",{class:"token punctuation"},","),t("\n    age"),a("span",{class:"token operator"},":"),a("span",{class:"token number"},"20"),t("\n"),a("span",{class:"token punctuation"},"}"),t("\n")])]),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("script")]),a("span",{class:"token punctuation"},">")]),t("\n\n\n// 子组件\n"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("template")]),a("span",{class:"token punctuation"},">")]),t("\n  "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("div")]),a("span",{class:"token punctuation"},">")]),t("\n  "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("SlotA")]),t(),a("span",{class:"token attr-name"},"v-slot"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),t("{data}"),a("span",{class:"token punctuation"},'"')]),a("span",{class:"token punctuation"},">")]),t("{{data.name}}"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("SlotA")]),a("span",{class:"token punctuation"},">")]),t("\n  "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("div")]),a("span",{class:"token punctuation"},">")]),t("\n"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("template")]),a("span",{class:"token punctuation"},">")]),t("\n"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("script")]),t(),a("span",{class:"token attr-name"},"setup"),t(),a("span",{class:"token attr-name"},"lang"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),t("ts"),a("span",{class:"token punctuation"},'"')]),a("span",{class:"token punctuation"},">")]),a("span",{class:"token script"},[a("span",{class:"token language-javascript"},[t("\n"),a("span",{class:"token keyword"},"import"),t(" SlotA "),a("span",{class:"token keyword"},"from"),t(),a("span",{class:"token string"},"'./components/SlotA.vue'"),t("\n")])]),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("script")]),a("span",{class:"token punctuation"},">")]),t("\n")])])],-1),a("h3",{id:"动态插槽",tabindex:"-1"},[t("动态插槽 "),a("a",{class:"header-anchor",href:"#动态插槽","aria-hidden":"true"},"#")],-1),a("p",null,"插槽可以是一个变量名",-1),a("p",null,[a("code",null,"<template #[name]></template>")],-1),a("h2",{id:"异步组件-suspense",tabindex:"-1"},[t("异步组件&Suspense "),a("a",{class:"header-anchor",href:"#异步组件-suspense","aria-hidden":"true"},"#")],-1),a("h3",{id:"ajax-异步的javascript和xml",tabindex:"-1"},[t("Ajax(异步的javascript和XML) "),a("a",{class:"header-anchor",href:"#ajax-异步的javascript和xml","aria-hidden":"true"},"#")],-1),a("p",null,"Ajax的核心是XMLHttpRequest对象",-1),a("p",null,"对象方法",-1),a("p",null,"1.const xhr = new XMLHttpRequest()",-1),a("p",null,"2.abort()取消请求",-1),a("p",null,"3.open(method,url,async,user,psw),method:请求类型，url:文件位置,async:true异步 false同步",-1),a("p",null,"4.send()",-1),a("p",null,"onreadystatechange 每当readyState属性改变，就会调用该函数",-1),a("p",null,"readyState共有5种状态",-1),a("ul",null,[a("li",null,[a("p",null,"0: 请求未初始化")]),a("li",null,[a("p",null,"1: 服务器连接已建立")]),a("li",null,[a("p",null,"2: 请求已接收")]),a("li",null,[a("p",null,"3: 请求处理中")]),a("li",null,[a("p",null,"4: 请求已完成，且响应已就绪")])],-1),a("p",null,"status : 200:'OK' 404:'未找到页面'",-1),a("h3",{id:"封装axios",tabindex:"-1"},[t("封装axios "),a("a",{class:"header-anchor",href:"#封装axios","aria-hidden":"true"},"#")],-1),a("div",{class:"language-javascript"},[a("pre",null,[a("code",null,[a("span",{class:"token keyword"},"export"),t(),a("span",{class:"token keyword"},"const"),t(" axios "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token punctuation"},"{"),t("\n    get"),a("span",{class:"token operator"},"<"),a("span",{class:"token constant"},"T"),a("span",{class:"token operator"},">"),a("span",{class:"token punctuation"},"("),t("url"),a("span",{class:"token operator"},":"),t("string"),a("span",{class:"token punctuation"},")"),a("span",{class:"token operator"},":"),t("Promise"),a("span",{class:"token operator"},"<"),a("span",{class:"token constant"},"T"),a("span",{class:"token operator"},">"),a("span",{class:"token punctuation"},"{"),t("\n        "),a("span",{class:"token keyword"},"return"),t(),a("span",{class:"token keyword"},"new"),t(),a("span",{class:"token class-name"},"Promise"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},"resolve"),a("span",{class:"token punctuation"},")"),a("span",{class:"token operator"},"=>"),a("span",{class:"token punctuation"},"{"),t("\n            "),a("span",{class:"token keyword"},"const"),t(" xhr "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token keyword"},"new"),t(),a("span",{class:"token class-name"},"XMLHttpRequest"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t("\n            xhr"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"open"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'GET'"),a("span",{class:"token punctuation"},","),t("url"),a("span",{class:"token punctuation"},")"),t("\n            xhr"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"send"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t("\n            xhr"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function-variable function"},"onreadystatechange"),t(),a("span",{class:"token operator"},"="),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token operator"},"=>"),a("span",{class:"token punctuation"},"{"),t("\n                "),a("span",{class:"token keyword"},"if"),a("span",{class:"token punctuation"},"("),t("xhr"),a("span",{class:"token punctuation"},"."),t("readyState "),a("span",{class:"token operator"},"=="),t(),a("span",{class:"token number"},"4"),t(),a("span",{class:"token operator"},"&&"),t(" xhr"),a("span",{class:"token punctuation"},"."),t("status "),a("span",{class:"token operator"},"=="),t(),a("span",{class:"token number"},"200"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"{"),t("\n                    "),a("span",{class:"token function"},"setTimeout"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token operator"},"=>"),a("span",{class:"token punctuation"},"{"),t("\n                        "),a("span",{class:"token function"},"resolve"),a("span",{class:"token punctuation"},"("),a("span",{class:"token constant"},"JSON"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"parse"),a("span",{class:"token punctuation"},"("),t("xhr"),a("span",{class:"token punctuation"},"."),t("responseText"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),t("\n                    "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),a("span",{class:"token number"},"2000"),a("span",{class:"token punctuation"},")"),t("\n                   \n                "),a("span",{class:"token punctuation"},"}"),t("\n            "),a("span",{class:"token punctuation"},"}"),t("\n        "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),t("\n    "),a("span",{class:"token punctuation"},"}"),t("\n"),a("span",{class:"token punctuation"},"}"),t("\n")])])],-1),a("h3",{id:"suspense",tabindex:"-1"},[t("Suspense "),a("a",{class:"header-anchor",href:"#suspense","aria-hidden":"true"},"#")],-1),a("p",null,"两个插槽",-1),a("p",null,"#default展示异步依赖加载完的组件",-1),a("p",null,"#fallback展示加载中的内容",-1),a("div",{class:"language-vue"},[a("pre",null,[a("code",null,[t("\n"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("template")]),a("span",{class:"token punctuation"},">")]),t("\n  "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("div")]),a("span",{class:"token punctuation"},">")]),t("\n    "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("Suspense")]),a("span",{class:"token punctuation"},">")]),t("\n      "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("template")]),t(),a("span",{class:"token attr-name"},"#default"),a("span",{class:"token punctuation"},">")]),t("\n        "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("asyncCom")]),a("span",{class:"token punctuation"},">")]),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("asyncCom")]),a("span",{class:"token punctuation"},">")]),t("\n      "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("template")]),a("span",{class:"token punctuation"},">")]),t("\n      "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("template")]),t(),a("span",{class:"token attr-name"},"#fallback"),a("span",{class:"token punctuation"},">")]),t("\n        "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("Skeleton")]),a("span",{class:"token punctuation"},">")]),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("Skeleton")]),a("span",{class:"token punctuation"},">")]),t("\n      "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("template")]),a("span",{class:"token punctuation"},">")]),t("\n    "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("Suspense")]),a("span",{class:"token punctuation"},">")]),t("\n  "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("div")]),a("span",{class:"token punctuation"},">")]),t("\n"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("template")]),a("span",{class:"token punctuation"},">")]),t("\n"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("script")]),t(),a("span",{class:"token attr-name"},"setup"),t(),a("span",{class:"token attr-name"},"lang"),a("span",{class:"token attr-value"},[a("span",{class:"token punctuation attr-equals"},"="),a("span",{class:"token punctuation"},'"'),t("ts"),a("span",{class:"token punctuation"},'"')]),a("span",{class:"token punctuation"},">")]),a("span",{class:"token script"},[a("span",{class:"token language-javascript"},[t("\n"),a("span",{class:"token keyword"},"import"),t(" Skeleton "),a("span",{class:"token keyword"},"from"),t(),a("span",{class:"token string"},"'./components/sync/Skeleton.vue'"),t("\n"),a("span",{class:"token comment"},"// import asyncCom from './components/sync/Sync.vue'"),t("\n\n"),a("span",{class:"token keyword"},"const"),t(" asyncCom"),a("span",{class:"token operator"},":"),t("any "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token function"},"defineAsyncComponent"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"=>"),t(" \n  "),a("span",{class:"token keyword"},"import"),a("span",{class:"token punctuation"},"("),a("span",{class:"token string"},"'./components/sync/Sync.vue'"),a("span",{class:"token punctuation"},")"),t("\n"),a("span",{class:"token punctuation"},")"),t("\n")])]),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("script")]),a("span",{class:"token punctuation"},">")]),t("\n\n"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("style")]),t(),a("span",{class:"token punctuation"},">")]),a("span",{class:"token style"},[a("span",{class:"token language-css"},"\n\n")]),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("style")]),a("span",{class:"token punctuation"},">")]),t("\n\n")])])],-1),a("ul",null,[a("li",null,"defineAsyncComponent方法可接收一个返回Promise的加载函数"),a("li",null,"也可搭配ES模块动态导入"),a("li",null,"用异步组件打包会额外生成一个js文件，可以优化首屏渲染的时间")],-1),a("h2",{id:"teleport",tabindex:"-1"},[t("Teleport "),a("a",{class:"header-anchor",href:"#teleport","aria-hidden":"true"},"#")],-1),a("p",null,"可以将一个组件内部的一部分模版“传送”到该组件的DOM结构外层的位置去",-1),a("p",null,"modal的情况使用比较多",-1),a("p",null,[a("code",null,'<Teleport :disabled="isMobile" to="body">..</Teleport>')],-1),a("p",null,[t("多个"),a("code",null,"<Teleport>")],-1)];e.render=function(a,t,o,e,c,l){return n(),s("div",null,p)};export{o as __pageData,e as default};
